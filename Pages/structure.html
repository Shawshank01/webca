<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        canvas {
            border: 1px solid #000;
            display: block;
            margin: 20px auto;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <title>Car Dodger Game</title>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-1" style="border: 1px solid #000;height: 200px; background-color: yellowgreen;">
            <p>logo</p>
        </div>
        <div class="col-md-10" style="border: 1px solid #000;height: 200px; background-color: orange;">
            <h1 style="text-align:center">Title</h1>
        </div>
        <div class="col-md-1" style="border: 1px solid #000;height: 200px; background-color: yellowgreen;">
            <p>blank</p>
        </div>
        <div class="col-md-2" style="height: 100ox;background-color: aqua;">
            <p><a href="index.html">index page</a></p>
        </div>
        <div class="col-md-2" style="height: 100ox;background-color: #123498;">
            <p><a href="page2.html">page2</a></p>
        </div>
        <div class="col-md-2" style="height: 100ox;background-color: yellow;">
            <p><a href="page3.html">page3</a></p>
        </div>
        <div class="col-md-2" style="height: 100ox;background-color: gray;">
            <p><a href="page4.html">page4</a></p>
        </div>
        <div class="col-md-2" style="height: 100ox;background-color: blueviolet;">
            <p><a href="page3.html">page5</a></p>
        </div>
        <div class="col-md-2" style="height: 100ox;background-color: pink;">
            <p><a href="game.html">mini games</a></p>
        </div>
        <div style="text-align:center; height: 200px; border: 1px solid #000;">
            <h1  style="text-align:center">Don't Crash!</h1>
        </div>
    </div>
</div>
<canvas id="gameCanvas" width="400" height="600"></canvas>
<button onclick="startGame()">Start Game</button>
<p>Score: <span id="score">0</span></p>
<select id="carSelect" onchange="changeCar()">
    <option value="🚗">Car 1</option>
    <option value="🚙">Car 2</option>
    <option value="🏎️">Car 3</option>
</select>

<script>
    let canvas, ctx, car, obstacles, score, gameInterval;

    function startGame() {
        canvas = document.getElementById("gameCanvas");
        ctx = canvas.getContext("2d");
        car = { x: canvas.width / 2 - 20, y: canvas.height - 50, width: 40, height: 40, symbol: "🚗" };
        obstacles = [];
        score = 0;

        document.getElementById("score").innerText = score;

        gameInterval = setInterval(updateGame, 20);

        // Listen for mouse movements
        canvas.addEventListener("mousemove", moveCar);

        // Disable the start button
        document.querySelector("button").disabled = true;
    }

    function updateGame() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw car
        ctx.font = "30px Arial";
        ctx.fillText(car.symbol, car.x, car.y);

        // Draw obstacles
        for (let i = 0; i < obstacles.length; i++) {
            ctx.fillText("🚧", obstacles[i].x, obstacles[i].y);
            obstacles[i].y += 2; // Adjust obstacle speed
            if (collision(car, obstacles[i])) {
                endGame();
                return;
            }
            if (obstacles[i].y > canvas.height) {
                score++;
                document.getElementById("score").innerText = score;
                obstacles.splice(i, 1);
                i--;
            }
        }

        // Generate random obstacles
        if (Math.random() < 0.02) {
            let obstacleX = Math.random() * (canvas.width - 40);
            let obstacleY = -40;
            obstacles.push({ x: obstacleX, y: obstacleY, width: 40, height: 40 });
        }
    }

    function moveCar(event) {
        car.x = event.clientX - canvas.getBoundingClientRect().left - car.width / 2;
        if (car.x < 0) {
            car.x = 0;
        } else if (car.x > canvas.width - car.width) {
            car.x = canvas.width - car.width;
        }
    }

    function collision(obj1, obj2) {
        return (
            obj1.x < obj2.x + obj2.width &&
            obj1.x + obj1.width > obj2.x &&
            obj1.y < obj2.y + obj2.height &&
            obj1.y + obj1.height > obj2.y
        );
    }

    function endGame() {
        clearInterval(gameInterval);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.font = "30px Arial";
        ctx.fillText("Game Over", canvas.width / 2 - 100, canvas.height / 2 - 15);
        document.querySelector("button").disabled = false;
    }

    function changeCar() {
        car.symbol = document.getElementById("carSelect").value;
    }
</script>

</body>
</html>
